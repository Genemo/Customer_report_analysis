# Customer_report_analysis-
Pipelines of customer report analysis. 

# Read Me

Author Yuan Liu <annlyuan@genemo.com>

### By running this program, we can use TPM.txt which is generated by .fastq from each sample, to compare with the cancer-related gene set.

- 1. project_path is the folder will save the output files
- 2. sample_path is the folder of .counts file for each sample which is generated by fastq file (file is save in a folder names resFCounts in previous pipeline) 
- 3. reference_path is the cancer-related gene sets of 17 types of cancer

You can simply adjust the PATHs and run this programe by using follow commend:

```
bash cancer_analysis_f.sh <Input_path> <cancer_reference> <Output_path> <TPM_threshould（optional）> 
```
Example
```
bash cancer_analysis_f.sh ./exp_sample ./cancer_reference ./test  10
```
- if you don't name the <TPM_threshould（optional）>, the program will ues default value.

#### Searching for the optimal value
- If you are not sure which TPM_threshould is fits to your data, you can use cancer_analysis_threshold.sh to search for the optimal value. it can calculate all the possibly percentages from to  <TPM_threshould（optional> (use 1 as step size) for corresponding cancer data of each sample.

```
bash  cancer_analysis_threshold.sh <Input_path> <cancer_reference> <Output_path> <TPM_threshould（optional）> 
```

- if you don't name the <TPM_threshould（optional）>, the program will ues default value.

# INPUT: 
- .counts from file from required sample
- *.xml from cancer-related gene set

# OUTPUT: 
- a folder which is names after corresponding sample, save the data we used for calculating.
- a .txt file which contains the final results of overlapping, .txt have 4 columns of numbers, 
  1 for # of cancer-related genes, 2 for # of sample genes which meet our threshold value，
3 for # of the overlapping genes of 1&2, 4 for the percentage of (3/1)*100

# USEAGE: All you need to do is: 
- 1. Setting the paths 
- 2. Saving data with fixed format into corresponding folders
- 3. Runing this script

(the # of group could change with how many thresholds you want to check, controllsed by variate TPM_threshould）

### Enjoy!
